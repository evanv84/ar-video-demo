<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>AR - demo</title>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
	<!-- include ar.js for A-Frame -->
	<script src="js/aframe-ar.min.js"></script>
	<script src="js/iphone-inline-video.browser.js"></script>
	<script src="https://app.aframe.com/embed/2.0/embedder.js"></script>
	<!-- <script src='https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js'> -->
	<script src="https://unpkg.com/aframe-chromakey-material/dist/aframe-chromakey-material.min.js"></script>
	</script>

</head>

<style>
      #playoverlay { 
      	position: relative;
    z-index: 9999;
    top: -200px;
    width: 200px;
    height: 100px;
     }

      #play-button {
        position: absolute;
    bottom: 200px;
    left: 30px;
    z-index: 9999;
      }

      /* Hide native iOS controls */
      .IIV::-webkit-media-controls-play-button,
      .IIV::-webkit-media-controls-start-playback-button {
        opacity: 0;
        pointer-events: none;
        width: 5px;
      }
    </style>

<body style='margin : 0px; overflow: hidden;'>
  <!-- <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;' > -->
  <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
  	<!-- ASSETS -->
  	<a-assets>
		<video id="video" src="assets/ch_k_video.mp4" webkit-playsinline playsinline crossorigin autoplay loop />
	</a-assets>

	<!-- CONTENT AREA -->  
	<!-- <a-entity gltf-model="#ring" scale="1.287 1.287 1.287" rotation="-37.81521447863433 -17.53250853100319 12.204001036286535" position="-0.237 1.042 -0.184">
   	<a-animation attribute="rotation" dur="10000" fill="forwards" to="0 360 0" repeat="indefinite">
	</a-animation>
   </a-entity> -->
	<a-entity material="shader: chromakey; side: double; src: #video" geometry="primitive:plane; height:1.42" position="0 2 0" scale="2.461 2.461 2.461" rotation="-83.47995075056095 180.02333923010465 180.02333923010465"></a-entity>
	<!-- CAMERA -->
    <!-- define a camera which will move according to the marker position -->
    <a-marker-camera type='pattern' url="assets/pattern-marker.patt"></a-marker-camera>
    <!-- <a-marker-camera type='barcode' value='1'></a-marker> -->
  </a-scene>

  <div id="playoverlay">
      <button id="play-button">Play / Pause</button>
    </div>

    <script>
      (function() {
        var video = document.querySelector('#video');
        window.makeVideoPlayableInline(video, /* mute necessary for autoplay*/ false);

        var playButton = document.querySelector('#play-button');
        playButton.addEventListener('click', function(e) {
          if (video.paused) {
            video.play();
          } else {
            video.pause();
          }
        });
      })();
    </script>
</body>
</html>